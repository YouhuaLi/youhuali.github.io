---
title: 七边形对角线分割圆（本期有奖，附上周答案）
type: page
parent_id: '0'
published: true
status: publish
key: page.qibianxinfengeyuan
categories: 每周一题
tags: ["每周一题"]
author:
  login: webcraft2013
  email: webcraft@gmail.com
  display_name: webcraft2013
  first_name: ''
  last_name: ''

---
# 本期题目：七边形对角线分割圆（本期有奖，附上周答案）

请你想象一个圆，圆上任取7点画一个七边形。然后再把这个七边形的所有21条对角线画出来。问这个对角线把圆分割成几个区域？

参考：圆上取2、3、4点构成的多边形和对角线分割可以把圆分割成2个，4个和8个区域:




请直接留言作答。
### 上周题目

市面上有些儿童食品中会放一张或几张卡牌（比如曾经的“小浣熊水浒卡”)，吸引儿童去购买和搜集。你的外甥希望搜集齐某一整套100张卡牌。
假设这种卡牌每十张为一包，每一包1元钱，每包里的卡是完全均匀随机的。你的外甥每周花10元购买这种卡牌，他平均要花多久能集齐这100张卡牌？
又比如一整套是300张卡的话，他又要花多久？

### 答案
这期题目有读者问，每一包的卡牌里到底是否有重复的牌呢？大老李想说，有没有重复的牌都可以算啊（又狡辩：））。答案是这样：对100张牌，如果牌包里的牌不会重复的话，那么大约需要5周时间集齐；如果有重复的话，平均需要5.2周时间。差距很小，是不是有点意外？

这道题“标准”的算法是（感谢读者**战略忽悠局**）：很明显，买全牌，至少需要买10包（人品是多么逆天）；至多则没有上限，一千、一万包都有可能（人品是...）。如果你分别计算出10包，11包，12包...买齐的全部概率，乘以包数相加就是平均买齐所需要购买的包数。但这种算法无疑太繁琐了，可以稍微换个思路，再借助一点计算机程序。

先考虑每包牌不重复的情况，第一包牌，我们必定拿到10张不同的牌。

第二包牌中，每张牌有10%的概率与之前的牌重复，每张牌有90%可能是新牌，所以平均得到了10*90%=9张新牌。

第三包牌中，平均我已有19张不同的新牌，新买的牌包中， 每张有$(100-19)/100=81\%$的可能是新牌，平均我得到8.1张新牌。

如果设买第n包牌后，从中获得的新牌张数是$a_n$，之后平均所持有的不同张数的牌是$S_n$，则: 

$$a_n=10(1-\frac{S_{n-1}}{100})=10-\frac{S_{n-1}}{10}$$

从这里可以推出$a_n$是等比数列，但这不重要。重要的是我们可以借此写个程序看多久后可以使$S_n$达到100。大老李写了个Python程序如下：

```
from __future__ import division

cards = 0

def buy(n):
    pack = 1
    while pack <= n:
        if pack==1:
            cards = 10
        else:
            cards = cards + (10 - cards / 10)
        pack = pack + 1
    return (pack-1, cards)

print buy(50)
```
运行结果是：
```
python cards.py
(50, 99.48462247926797)
```
也就是买了50包牌后，可以获得大约99.48张不同的牌，所以集齐约需要5周。

如果每包牌中的牌可以重复，则我们可以认为每包牌是1张，售价为0.1元！

则递推公式变为：

$$a_n=1(1-\frac{S_{n-1}}{100})=1-\frac{S_{n-1}}{100}$$

相应修改程序后，运行结果为:

```
(520, 99.46259563362446)
```
也就是买了520张牌后，可以得到约99张多的不同的牌，所以集齐约5.2周。读者**来**有一个更漂亮的算法：

>问题等价于：  
每周买100张卡，收集不重复卡片的期望：  
第一张卡直接摸一定不重复，第二张卡有99/100的概率不重复，即平均摸100/99次，以此类推，最后一张概率为1/100，即平均摸100/1次  
100/100+100/99+100/98+.....100/1=518，也就是5.2周  
300/300+300/299+...300/1=1885，也就是18.9周

牌包里有无重复牌对计算结果影响不大也很好理解，因为100张牌中有重复抽取10张牌，结果互不重复的概率还是挺大的（具体多少请自行计算），所以两者差距不大。

另外，如果你对上述结果仍不满意的话，也有人直接编程模拟买牌过程，得出了同样的结果：http://t.cn/EPAKyFx

恭喜：**来，黄亮，21**答对了！

---
###"大老李聊数学”第二季已开播，扫码收听！：

![](https://upload-images.jianshu.io/upload_images/348687-157cd7585d8e4ebc?imageMogr2/auto-orient/strip%7CimageView2/2/w/432)


###关注“大老李聊数学”公众号，微信搜索： dalaoli_shuxue
